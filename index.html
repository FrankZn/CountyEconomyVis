<!DOCTYPE html>

<html lang="">

<head>
    <meta charset="utf-8">
    <title>中国县区经济数据可视化</title>
    <link href="css/index.css" rel="stylesheet" type="text/css" />
    <link href="css/map.css" rel="stylesheet" type="text/css" />
    <script src="js/d3-v5.12.0/d3.min.js"></script>
    <!-- <script src="https://d3js.org/d3.v6.min.js"></script> -->
    <script src="js/d3-simple-slider.min.js"></script>
    <!-- <script src="https://d3js.org/d3.v5.js"></script> -->
    <script src="js/jquery.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <script src="js/topojson.v1.min.js"></script>
</head>

<body>
    <div class="container">
        <div id='map_grid' class="grid"></div>
        <!-- <div id='example2' class="grid"></div> -->
        <div id='happy_index_grid' class="grid"></div>
        <div id='pie_grid' class="grid"></div>
        <div id='line_chart_grid' class="grid">
            <select id = "opts">
                <option value="GDP(亿元)">GDP(亿元)</option>
                <option value="年末总人口(万人)">年末总人口</option> 
                <option value="城乡居民储蓄存款余额(亿元)">城乡居民储蓄存款余额(亿元)</option>
                <option value="地方财政收入(亿元)">地方财政收入(亿元)</option>
                <option value="地方财政支出(亿元)">地方财政支出(亿元)</option>
                <option value="规模以上工业总产值（现价）(亿元)">规模以上工业总产值(亿元)</option>
                <option value="粮食总产量(万吨)">粮食总产量(万吨)</option>
            </select>   
        </div>
    </div>
    <script src="scripts/Observer.js"></script>
    <script src="scripts/example.js"></script>
    <script src="scripts/Map.js"></script>
	<script src="scripts/pie_part.js"></script>
    <script src="scripts/happy_index.js"></script>
    <script src="scripts/debug.js"></script>
    <script src="scripts/line_chart.js"></script>
    <script>
        let OM = new ObserverManagement();
        debug(OM);
        let map_promise = map_main(OM);
        happy_index_main(OM);
        line_chart_main(OM);
        pie_main(OM);
        map_promise.then(async map => {
            await map.handle_select("110115");
            await map.handle_select("110116");
            await map.handle_select("110117");
        });
    </script>
</body>
</html>
